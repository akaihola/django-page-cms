=A little django CMS application=

Author : Batiste Bieler : http://batiste.dosimple.ch/blog/

The goal of this project is to create a simple Django application to administrate static hierarchical web pages in multiple languages.

Key features:

  * Create/Edit/Delete hierarchical pages
  * Django admin integration
  * Multilingual support
  * Multiple inherited template support
  * As simple as possible

==Test it==

To test this CMS checkout the code with subversion : 

{{{svn checkout http://django-page-cms.googlecode.com/svn/trunk/ django-page-cms}}}

And then, run the development server :

{{{manage.py runserver}}}

There is a default sqlite3 database. You can log in the admin with the user name *admin* and password *admin*.

==Install in legacy project==

First, copy the pages directory into your project directory.

Add pages to your installed apps :

{{{
INSTALLED_APPS = (
    ...
    'pages',
)
}}}

===Install urls===

{{{
    (r'^pages/$', 'pages.views.slug'),
    (r'^pages/(?P<slug>[^/]+)/$', 'pages.views.slug'),
    (r'^pages/.*/(?P<slug>[^/]+)/$', 'pages.views.slug'),
    
    (r'^admin/pages/page/$', 'pages.admin_views.list_page'),
    (r'^admin/pages/page/add/$', 'pages.admin_views.add'),
    (r'^admin/pages/page/(?P<page_id>\d+)/$', 'pages.admin_views.modify'),
    (r'^admin/', include('django.contrib.admin.urls')),
}}}

You *must* also set the DEFAULT_PAGE_TEMPLATE variable in your settings if you want that the slug function works.

You can also add the PAGE_TEMPLATES variable in your settings if you want template  customization:

{{{
PAGE_TEMPLATES = (('nice.html','nice one'), ('cool.html','cool one'))
}}}

Cool.html and nice.html must exists in your template directory. If you don't set PAGE_TEMPLATES, the app will run fine anyway.

==Retrieve localized content in templates==

To know the preferred language of the user, you have to give the request to template tag: 

{{{
 <h2>{% show_content current_page 'title' request %}</h2>
 <p>{% show_content current_page 'body' request %}</p>
}}}

==Compatibility==

The pages app as been developed using the latest Django trunk (6635). Python 2.5 is needed because of the new decorator syntax.
